// This rule file is autogenerated by HABmin.
// Any changes made manually to this file will be overwritten next time HABmin rules are saved.

// Imports
import org.openhab.core.library.types.*
import org.openhab.core.persistence.*
import org.openhab.model.script.actions.*
import org.openhab.core.library.types.DecimalType

// Global Variables
val String mailto = "herdtdenis@gmx.de"
val String subject = "HiWi-Door state"
//val message = "Hey there,\n\njust wanted to let you know that the HiWi-Door is still open!\nCould someone take a look please?"
val String message = "Hey There,\n\njust wanted to let you know that the HiWi-Door is " + doorcontact.state + "\nHave a nice evening"

rule "open_door_Mail"
when
	Time cron "0 0 19 * * ?"
//	Time cron "* * * * * ?
then
	if (doorcontact.state == OPEN){
	sendMail(mailto, subject, message)
	sendCommand(Switch_0, ON)
	}
		
end


